{% extends "base.html" %} {% from "bootstrap5/form.html" import render_form %}
{% block content %}

<!-- Main  -->
<div class="container mt-5">
    <div class="section-background">
      <div class="d-flex justify-content-between align-items-center">
        <h1>What's happening?</h1>

            <!--Caterogires-->
            <div class="dropdown">
              <form method="GET" action="{{ url_for('main.index') }}">
                <button
                  class="btn btn-secondary dropdown-toggle"
                  type="button"
                  id="filterDropdown"
                  data-bs-toggle="dropdown"
                  aria-expanded="false"
                >
                  Filter
                </button>
                <div class="dropdown-menu p-3" aria-labelledby="filterDropdown">
                  <!-- Checkboxes for categories -->
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="checkbox"
                      name="categories"
                      value="House"
                      id="house"
                    />
                    <label class="form-check-label" for="house">House</label>
                  </div>
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="checkbox"
                      name="categories"
                      value="Techno"
                      id="techno"
                    />
                    <label class="form-check-label" for="techno">Techno</label>
                  </div>
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="checkbox"
                      name="categories"
                      value="Trance"
                      id="trance"
                    />
                    <label class="form-check-label" for="trance">Trance</label>
                  </div>
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="checkbox"
                      name="categories"
                      value="Dubstep"
                      id="dubstep"
                    />
                    <label class="form-check-label" for="dubstep"
                      >Dubstep</label
                    >
                  </div>
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="checkbox"
                      name="categories"
                      value="Dubstep"
                      id="dubstep"
                    />
                    <label class="form-check-label" for="dubstep"
                      >Drum and Bass</label
                    >
                  </div>
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="checkbox"
                      name="categories"
                      value="Dubstep"
                      id="dubstep"
                    />
                    <label class="form-check-label" for="dubstep"
                      >Electro</label
                    >
                  </div>
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="checkbox"
                      name="categories"
                      value="Dubstep"
                      id="dubstep"
                    />
                    <label class="form-check-label" for="dubstep"
                      >Future Bass</label
                    >
                  </div>
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="checkbox"
                      name="categories"
                      value="Dubstep"
                      id="dubstep"
                    />
                    <label class="form-check-label" for="dubstep">Trap</label>
                  </div>
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="checkbox"
                      name="categories"
                      value="Dubstep"
                      id="dubstep"
                    />
                    <label class="form-check-label" for="dubstep"
                      >Glitch Hop</label
                    >
                  </div>
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="checkbox"
                      name="categories"
                      value="Dubstep"
                      id="dubstep"
                    />
                    <label class="form-check-label" for="dubstep"
                      >Chillwave</label
                    >
                  </div>
                  <button type="submit" class="btn btn-primary mt-2">
                    Apply Filter
                  </button>
                </div>
              </form>
        </div>
      </div>

        <!-- Event Listings -->
        <div class="row mt-5">
          {% for event in events %}
          <div class="col-lg-3 col-md-6 col-sm-12 mb-4">
            <div class="event-card">
              <a href="{{ url_for('main.event_details', event_id=event.id) }}">
                <img
                  src="{{ url_for('static', filename='img/' + event.image.replace('website/static/img', '')) }}"
                  class="img-fluid"
                  alt="{{ event.name }}"
                />
              </a>
              <h3>{{ event.name }}</h3>
              <p class="location">{{ event.location }}</p>
              <p>{{ event.date.strftime('%B %d, %Y') }}</p>
              {% if event.status == 'Sold Out' %}
              <span class="event-status status-sold-out">Sold Out</span>
              {% elif event.status == 'Tickets Available' %}
              <span class="event-status status-open">Tickets Available</span>
              {% elif event.status == 'Cancelled' %}
              <span class="event-status status-cancelled">Cancelled</span>
              {% elif event.status == 'Inactive' %}
              <span class="event-status status-inactive">Inactive</span>
              {% endif %}
            </div>
          </div>
          {% endfor %}
        </div>
      </div>
    </div>
  </div>
  {% endblock %}
</div>
